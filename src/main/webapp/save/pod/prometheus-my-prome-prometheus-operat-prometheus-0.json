{"metadata":{"uid":"de8c3e70-5e23-4bad-b7cd-565784dcb8e7","resourceVersion":"8836802","name":"prometheus-my-prome-prometheus-operat-prometheus-0","namespace":"monitoring","creationTimestamp":"2020-04-21T13:00:08Z","annotations":{"cni.projectcalico.org/podIP":"10.100.152.233/32","cni.projectcalico.org/podIPs":"10.100.152.233/32"},"generateName":"prometheus-my-prome-prometheus-operat-prometheus-","selfLink":"/api/v1/namespaces/monitoring/pods/prometheus-my-prome-prometheus-operat-prometheus-0","labels":{"app":"prometheus","controller-revision-hash":"prometheus-my-prome-prometheus-operat-prometheus-7cfd6575bd","statefulset.kubernetes.io/pod-name":"prometheus-my-prome-prometheus-operat-prometheus-0","prometheus":"my-prome-prometheus-operat-prometheus"},"ownerReferences":[{"uid":"0055392e-50e4-4c69-9838-b7b60bcb0d38","controller":true,"apiVersion":"apps/v1","kind":"StatefulSet","name":"prometheus-my-prome-prometheus-operat-prometheus","blockOwnerDeletion":true}]},"spec":{"dnsPolicy":"ClusterFirst","nodeName":"s1","terminationGracePeriodSeconds":600,"enableServiceLinks":true,"serviceAccountName":"my-prome-prometheus-operat-prometheus","volumes":[{"name":"config","secret":{"secretName":"prometheus-my-prome-prometheus-operat-prometheus","defaultMode":420}},{"name":"tls-assets","secret":{"secretName":"prometheus-my-prome-prometheus-operat-prometheus-tls-assets","defaultMode":420}},{"emptyDir":{},"name":"config-out"},{"configMap":{"defaultMode":420,"name":"prometheus-my-prome-prometheus-operat-prometheus-rulefiles-0"},"name":"prometheus-my-prome-prometheus-operat-prometheus-rulefiles-0"},{"name":"secret-etcd-certs","secret":{"secretName":"etcd-certs","defaultMode":420}},{"emptyDir":{},"name":"prometheus-my-prome-prometheus-operat-prometheus-db"},{"name":"my-prome-prometheus-operat-prometheus-token-zwd4s","secret":{"secretName":"my-prome-prometheus-operat-prometheus-token-zwd4s","defaultMode":420}}],"serviceAccount":"my-prome-prometheus-operat-prometheus","securityContext":{"runAsUser":1000,"fsGroup":2000,"runAsNonRoot":true},"priority":0,"restartPolicy":"Always","hostname":"prometheus-my-prome-prometheus-operat-prometheus-0","tolerations":[{"effect":"NoExecute","tolerationSeconds":300,"key":"node.kubernetes.io/not-ready","operator":"Exists"},{"effect":"NoExecute","tolerationSeconds":300,"key":"node.kubernetes.io/unreachable","operator":"Exists"}],"subdomain":"prometheus-operated","containers":[{"args":["--web.console.templates=/etc/prometheus/consoles","--web.console.libraries=/etc/prometheus/console_libraries","--config.file=/etc/prometheus/config_out/prometheus.env.yaml","--storage.tsdb.path=/prometheus","--storage.tsdb.retention.time=10d","--web.enable-lifecycle","--storage.tsdb.no-lockfile","--web.external-url=http://my-prome-prometheus-operat-prometheus.monitoring:9090","--web.route-prefix=/"],"image":"quay.io/prometheus/prometheus:v2.15.2","livenessProbe":{"failureThreshold":6,"timeoutSeconds":3,"periodSeconds":5,"successThreshold":1,"httpGet":{"path":"/-/healthy","scheme":"HTTP","port":"web"}},"imagePullPolicy":"IfNotPresent","terminationMessagePolicy":"FallbackToLogsOnError","terminationMessagePath":"/dev/termination-log","name":"prometheus","resources":{},"readinessProbe":{"failureThreshold":120,"timeoutSeconds":3,"periodSeconds":5,"successThreshold":1,"httpGet":{"path":"/-/ready","scheme":"HTTP","port":"web"}},"ports":[{"protocol":"TCP","name":"web","containerPort":9090}],"volumeMounts":[{"mountPath":"/etc/prometheus/config_out","name":"config-out","readOnly":true},{"mountPath":"/etc/prometheus/certs","name":"tls-assets","readOnly":true},{"mountPath":"/prometheus","name":"prometheus-my-prome-prometheus-operat-prometheus-db"},{"mountPath":"/etc/prometheus/rules/prometheus-my-prome-prometheus-operat-prometheus-rulefiles-0","name":"prometheus-my-prome-prometheus-operat-prometheus-rulefiles-0"},{"mountPath":"/etc/prometheus/secrets/etcd-certs","name":"secret-etcd-certs","readOnly":true},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"my-prome-prometheus-operat-prometheus-token-zwd4s","readOnly":true}]},{"args":["--log-format=logfmt","--reload-url=http://127.0.0.1:9090/-/reload","--config-file=/etc/prometheus/config/prometheus.yaml.gz","--config-envsubst-file=/etc/prometheus/config_out/prometheus.env.yaml"],"image":"quay.io/coreos/prometheus-config-reloader:v0.37.0","imagePullPolicy":"IfNotPresent","terminationMessagePolicy":"FallbackToLogsOnError","terminationMessagePath":"/dev/termination-log","name":"prometheus-config-reloader","resources":{"requests":{"memory":"25Mi","cpu":"100m"},"limits":{"memory":"25Mi","cpu":"100m"}},"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}}],"command":["/bin/prometheus-config-reloader"],"volumeMounts":[{"mountPath":"/etc/prometheus/config","name":"config"},{"mountPath":"/etc/prometheus/config_out","name":"config-out"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"my-prome-prometheus-operat-prometheus-token-zwd4s","readOnly":true}]},{"args":["--webhook-url=http://127.0.0.1:9090/-/reload","--volume-dir=/etc/prometheus/rules/prometheus-my-prome-prometheus-operat-prometheus-rulefiles-0"],"image":"quay.io/coreos/configmap-reload:v0.0.1","imagePullPolicy":"IfNotPresent","terminationMessagePolicy":"FallbackToLogsOnError","terminationMessagePath":"/dev/termination-log","name":"rules-configmap-reloader","resources":{"requests":{"memory":"25Mi","cpu":"100m"},"limits":{"memory":"25Mi","cpu":"100m"}},"volumeMounts":[{"mountPath":"/etc/prometheus/rules/prometheus-my-prome-prometheus-operat-prometheus-rulefiles-0","name":"prometheus-my-prome-prometheus-operat-prometheus-rulefiles-0"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"my-prome-prometheus-operat-prometheus-token-zwd4s","readOnly":true}]}],"schedulerName":"default-scheduler"},"status":{"phase":"Running","podIP":"10.100.152.233","containerStatuses":[{"image":"quay.io/prometheus/prometheus:v2.15.2","imageID":"docker-pullable://quay.io/prometheus/prometheus@sha256:914525123cf76a15a6aaeac069fcb445ce8fb125113d1bc5b15854bc1e8b6353","restartCount":5,"ready":true,"name":"prometheus","started":true,"state":{"running":{"startedAt":"2020-05-12T02:24:08Z"}},"lastState":{"terminated":{"reason":"Completed","exitCode":0,"startedAt":"2020-05-12T02:11:44Z","containerID":"docker://c50aa4997f7f096471316b3baa50d666f0c4c7cd6bc8596083cdc02121f1f93e","finishedAt":"2020-05-12T02:21:07Z"}},"containerID":"docker://226b4c0294949e42a26a0ed551542d3d23f54ae416a18a14bb406f9a1a25344a"},{"image":"quay.io/coreos/prometheus-config-reloader:v0.37.0","imageID":"docker-pullable://quay.io/coreos/prometheus-config-reloader@sha256:5e870e7a99d55a5ccf086063efd3263445a63732bc4c04b05cf8b664f4d0246e","restartCount":4,"ready":true,"name":"prometheus-config-reloader","started":true,"state":{"running":{"startedAt":"2020-05-12T02:24:09Z"}},"lastState":{"terminated":{"reason":"Error","exitCode":2,"startedAt":"2020-05-12T02:11:45Z","message":"ts=2020-05-12T02:11:47.15126324Z caller=main.go:85 msg=\"Starting prometheus-config-reloader version '0.37.0'.\"\nlevel=info ts=2020-05-12T02:12:00.050644926Z caller=reloader.go:286 msg=\"Prometheus reload triggered\" cfg_in=/etc/prometheus/config/prometheus.yaml.gz cfg_out=/etc/prometheus/config_out/prometheus.env.yaml rule_dirs=\nlevel=info ts=2020-05-12T02:12:00.050798784Z caller=reloader.go:154 msg=\"started watching config file and non-recursively rule dirs for changes\" cfg=/etc/prometheus/config/prometheus.yaml.gz out=/etc/prometheus/config_out/prometheus.env.yaml dirs=\n","containerID":"docker://0e06c97ac7be3a4d8b84f0ae9ae5e37032c3914db1bb2a2bb6c50949880c2838","finishedAt":"2020-05-12T02:21:07Z"}},"containerID":"docker://c20b82542f7db11242c03c47211585440ef7e2a5b86c9b8fbb8fe0ff9ca24716"},{"image":"quay.io/coreos/configmap-reload:v0.0.1","imageID":"docker-pullable://quay.io/coreos/configmap-reload@sha256:e2fd60ff0ae4500a75b80ebaa30e0e7deba9ad107833e8ca53f0047c42c5a057","restartCount":4,"ready":true,"name":"rules-configmap-reloader","started":true,"state":{"running":{"startedAt":"2020-05-12T02:24:10Z"}},"lastState":{"terminated":{"reason":"Error","exitCode":2,"startedAt":"2020-05-12T02:11:46Z","containerID":"docker://0f81017e32dccd66261d4dffff7a11571438be7683f9b9155ccd458f9719cb24","finishedAt":"2020-05-12T02:21:08Z"}},"containerID":"docker://762d2523937ee85ca01d1aff4d50b357ca4683501bc96a7a558622294c80da59"}],"hostIP":"192.168.43.155","startTime":"2020-04-21T13:05:10Z","qosClass":"Burstable","conditions":[{"type":"Initialized","lastTransitionTime":"2020-04-21T13:05:10Z","status":"True","lastProbeTime":null},{"type":"Ready","lastTransitionTime":"2020-05-12T02:24:16Z","status":"True","lastProbeTime":null},{"type":"ContainersReady","lastTransitionTime":"2020-05-12T02:24:16Z","status":"True","lastProbeTime":null},{"type":"PodScheduled","lastTransitionTime":"2020-04-21T13:05:12Z","status":"True","lastProbeTime":null}],"podIPs":[{"ip":"10.100.152.233"}]}}