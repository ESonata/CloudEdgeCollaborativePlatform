{"metadata":{"generation":3,"uid":"885ebeff-e294-477f-aa13-9a4ac1d56283","resourceVersion":"8836797","name":"my-prome-grafana","namespace":"monitoring","creationTimestamp":"2020-03-29T07:13:41Z","annotations":{"deployment.kubernetes.io/revision":"3"},"selfLink":"/apis/apps/v1/namespaces/monitoring/deployments/my-prome-grafana","labels":{"helm.sh/chart":"grafana-5.0.8","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"grafana","app.kubernetes.io/instance":"my-prome","app.kubernetes.io/version":"6.6.2"}},"spec":{"template":{"metadata":{"creationTimestamp":null,"annotations":{"checksum/dashboards-json-config":"01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b","checksum/sc-dashboard-provider-config":"1d42434aa6a5aaca1dccc5a7f270708e41c108fd07b48f59737a266348b1d828","checksum/config":"8aae84a2f6b98961eefef939805e0af457ce265254565c465780567e2179282e","checksum/secret":"9066723c696f9c54f229ec5318af4dcc782355460a1bcb6b8da9e8c1979c0a42"},"labels":{"app.kubernetes.io/name":"grafana","app.kubernetes.io/instance":"my-prome"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30,"serviceAccountName":"my-prome-grafana","volumes":[{"configMap":{"defaultMode":420,"name":"my-prome-grafana"},"name":"config"},{"emptyDir":{},"name":"storage"},{"emptyDir":{},"name":"sc-dashboard-volume"},{"configMap":{"defaultMode":420,"name":"my-prome-grafana-config-dashboards"},"name":"sc-dashboard-provider"},{"emptyDir":{},"name":"sc-datasources-volume"}],"containers":[{"image":"kiwigrid/k8s-sidecar:0.1.99","imagePullPolicy":"IfNotPresent","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"grafana-sc-dashboard","resources":{},"env":[{"name":"METHOD"},{"name":"LABEL","value":"grafana_dashboard"},{"name":"FOLDER","value":"/tmp/dashboards"},{"name":"RESOURCE","value":"both"}],"volumeMounts":[{"mountPath":"/tmp/dashboards","name":"sc-dashboard-volume"}]},{"image":"grafana/grafana:6.6.2","livenessProbe":{"failureThreshold":10,"timeoutSeconds":30,"periodSeconds":10,"successThreshold":1,"initialDelaySeconds":60,"httpGet":{"path":"/api/health","scheme":"HTTP","port":3000}},"imagePullPolicy":"IfNotPresent","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"grafana","resources":{},"readinessProbe":{"failureThreshold":3,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"httpGet":{"path":"/api/health","scheme":"HTTP","port":3000}},"ports":[{"protocol":"TCP","name":"service","containerPort":80},{"protocol":"TCP","name":"grafana","containerPort":3000}],"env":[{"name":"GF_SECURITY_ADMIN_USER","valueFrom":{"secretKeyRef":{"name":"my-prome-grafana","key":"admin-user"}}},{"name":"GF_SECURITY_ADMIN_PASSWORD","valueFrom":{"secretKeyRef":{"name":"my-prome-grafana","key":"admin-password"}}}],"volumeMounts":[{"mountPath":"/etc/grafana/grafana.ini","name":"config","subPath":"grafana.ini"},{"mountPath":"/var/lib/grafana","name":"storage"},{"mountPath":"/tmp/dashboards","name":"sc-dashboard-volume"},{"mountPath":"/etc/grafana/provisioning/dashboards/sc-dashboardproviders.yaml","name":"sc-dashboard-provider","subPath":"provider.yaml"},{"mountPath":"/etc/grafana/provisioning/datasources","name":"sc-datasources-volume"}]}],"serviceAccount":"my-prome-grafana","securityContext":{"runAsUser":472,"fsGroup":472},"restartPolicy":"Always","schedulerName":"default-scheduler","initContainers":[{"image":"kiwigrid/k8s-sidecar:0.1.99","imagePullPolicy":"IfNotPresent","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"grafana-sc-datasources","resources":{},"env":[{"name":"METHOD","value":"LIST"},{"name":"LABEL","value":"grafana_datasource"},{"name":"FOLDER","value":"/etc/grafana/provisioning/datasources"},{"name":"RESOURCE","value":"both"}],"volumeMounts":[{"mountPath":"/etc/grafana/provisioning/datasources","name":"sc-datasources-volume"}]}]}},"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/name":"grafana","app.kubernetes.io/instance":"my-prome"}},"revisionHistoryLimit":10,"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600},"status":{"replicas":1,"readyReplicas":1,"conditions":[{"reason":"NewReplicaSetAvailable","type":"Progressing","lastTransitionTime":"2020-03-29T07:13:41Z","message":"ReplicaSet \"my-prome-grafana-79d5f8944\" has successfully progressed.","status":"True","lastUpdateTime":"2020-04-02T09:05:17Z"},{"reason":"MinimumReplicasAvailable","type":"Available","lastTransitionTime":"2020-06-06T01:39:43Z","message":"Deployment has minimum availability.","status":"True","lastUpdateTime":"2020-06-06T01:39:43Z"}],"updatedReplicas":1,"observedGeneration":3,"availableReplicas":1}}